<html>
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
          integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <style>
      #open{
      display:none;
      }
      .nav-link p {
  color:white;
}
.nav-link h3{
    color:white;
}
.bgimg{
    background-image: url(images/navbg.jpg);
}
.modal-open {
height: 200vh;
width: 100vw;
position: absolute;
top: 100px;
background-color: #f3f6f9;
display: flex;
justify-content: center;
align-items: center;
}
.modal-close {
display: none;
}

</style>
</head>
<body onload="dashload()" class="border border-secondary m-1">

<div class="container-fluid">
    <div class="row">
        <div class="col-2 bgimg text-secondary">
            <div>
                <ul class="nav flex-sm-column ">
                    <li>
                        <a href="#" class="nav-link">

                            <h3><i class='fa fa-home pe-2 mt-4 mb-4'></i>Hometel</h3>
                        </a>
                    </li>
                    <li>
                        <a href="dashboardpage.html" class="nav-link">

                            <p><i class='fa fa-dashboard pe-2'></i>DashBoard</p>
                        </a>
                    </li>
                    <li>
                        <a href="userpage.html" class=" nav-link">

                            <p> <i class='fa-solid fa-user-group pe-2'></i>People</p>
                        </a>
                    </li>
                    <li>
                        <a href="index.html" class="nav-link">

                            <p><i class='fa fa-bed pe-2'></i>Room</p>
                        </a>
                    </li>
                    <li>
                        <a href="paymentpage.html" class="nav-link">

                            <p><i class='fa fa-money pe-2'></i>Payment</p>
                        </a>
                    </li>
                    <li>
                        <a href="bookingpage.html" class="nav-link">

                            <p><i class='fa-solid fa-calendar-xmark pe-2'></i>Booking</p>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="col-10 p-3 min-vh-100" style="background-color:#f3f6f9;">
            <div class="row">
                <div class="col-9"></div>
                <div class="col-1 pe-0 me-0 pt-2 "> <i class='fa fa-bell-o'></i></div>
                <div class="col-2 ps-0 pe-0">
                    <div class="row">
                        <div class="col-6 pe-0 me-0 ps-0"><p class=" pt-0 mt-0 pb-0 mb-0">Varsha Reddy</p><p class="pb-0 mb-0"></p>Admin</p></div>
                        <div class="col-6 pe-0 me-0 ps-0"><img src="images/varsha.jpg" height="50px" class="rounded-circle"></div>
                    </div>
                </div>
                <hr>
            </div>
            <h4>Overall Summary</h4>
            <div class="row pb-3 text-secondary" >
                <div class="col-3 ">
                    <div class="grid1">
                        <div class="border p-4 m-2 bg-white shadow-lg">
                            <div class="row">
                                <div class="col-4" id="col1"><p>Total Rooms:</p></div>
                                <div class="col-8">
                                    <img src="images/dashroom.jpg" height="100">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-3">
                    <div class="grid1">
                        <div class=" border p-4 m-2 bg-white shadow-lg">
                            <div class="row">
                                <div class="col-4" id="col2"><p>Total Beds:</p></div>
                                <div class="col-8">
                                    <img src="images/dashbed.jpg" height="100">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <h5>At a glance</h5>
            <div class="row text-secondary">
                <div class="col-3">

                    <div class="grid1">
                        <div class=" border p-4 m-2 bg-white shadow-lg">
                            <div class="row">
                                <div class="col-4" id="col3"><p>Active Bookings:</p></div>
                                <div class="col-8">
                                    <img src="images/dashbooking.jpg" height="100">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-3">
                    <div class="grid1">
                        <div class="border p-4 m-2 bg-white shadow-lg">
                            <div class="row">
                                <div class="col-4" id="col4"><p>Total Payments:</p></div>
                                <div class="col-8">
                                    <img src="images/dashpay.jpg" height="100">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-3">
                    <div class="grid1">
                        <div class=" border p-4 m-2 bg-white shadow-lg">

                            <div class="row">
                                <div class="col-4" id="col7"><p>Total Floors:</p></div>
                                <div class="col-8">
                                    <img src="images/dashfloor.jpg" height="100">
                                </div></div>
                        </div>
                    </div>

                </div>
            </div>
            </div>
        </div>
    </div>
<script>
    async function dashload() {
      let c;
      let option;
      let txt;

      const response1 = await fetch("http://localhost:8080/PG/roomcount")
      let data1 = await response1.json();
      console.log("roomcount"+data1);
      c=document.createElement("div");
      option = document.createElement("p");
      txt=data1;
      option.innerHTML=txt;
      c.appendChild(option);
      document.getElementById("col1").append(c);
      const response2 = await fetch("http://localhost:8080/PG/bedcount")
      let data2 = await response2.json();
      console.log("bedcount"+data2);
      c=document.createElement("div");
      option = document.createElement("p");
      txt=data2;
      option.innerHTML=txt;
      c.appendChild(option);
      document.getElementById("col2").append(c);
      const response3 = await fetch("http://localhost:8080/PG/activebooking")
      let data3 = await response3.json();
      console.log("activebooking" +data3);
      c=document.createElement("div");
      option = document.createElement("p");
      txt=data3;
      option.innerHTML=txt;
      c.appendChild(option);
      document.getElementById("col3").append(c);
      const response4 = await fetch("http://localhost:8080/PG/paymentcount")
      let data4 = await response4.json();

      c=document.createElement("div");
      option = document.createElement("p");
      txt=data4;
      option.innerHTML=txt;
      c.appendChild(option);
      document.getElementById("col4").append(c);
      console.log("paymentcount"+data4);


      const response7 = await fetch("http://localhost:8080/PG/floorcount")
      let data7 = await response7.json();
      console.log("total floors" +data7);
      c=document.createElement("div");
      option = document.createElement("p");
      txt=data7;
      option.innerHTML=txt;
      c.appendChild(option);
      document.getElementById("col7").append(c);
      }
</script>
</body>
</html>